# the IP(s) on which the node server is running
upstream app_worldcup2014 {
    server 127.0.0.1:8888;
}

# the nginx server instance
server {
	listen 80;
	server_name box.dagobah-online.com;
	access_log /var/log/nginx/worldcup2014.access.log;
	
	# Let's put all static files like images, js and css in sub-folder: public
#	root /var/www/worldcup2014/public;
	
	#  static content
#	location ~* ^.+.(jpg|jpeg|gif|css|png|js|ico)$ {
#		# access_log        off;
#		expires           15d;
#	}
	
	# try as static content first
#	location / {
#		alias /var/www/worldcup2014/src/;
#		try_files $uri @worldcup2014;
#	}

	# pass the request to the node.js server with the correct headers and much more can be added, see nginx config options
	location / {
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Host $http_host;
		proxy_set_header X-NginX-Proxy true;
		
		proxy_pass http://app_worldcup2014/;
		proxy_redirect off;
	}
}
